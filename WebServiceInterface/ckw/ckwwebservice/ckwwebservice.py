from suds.client import Client
import requests
import sys,os
sys.path.append("..\\..")
from rebuildxml import rebuildcode

class ckwwebservice():
	def __init__(self,client):
		self.client=client

	def shfeedXzcxInfo(self):
		# param1='PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjx1c2VybWFya2VyPjxjb25kaXRpb24gdXNlcm5hbWU9IldVZ3dNREF3TkRrPSIgcGFzc3dvcmQ9Ik1USXoiPjwvY29uZGl0aW9uPjwvdXNlcm1hcmtlcj4NCg=='
		arg1xml=r'<?xml version="1.0" encoding="UTF-8"?><usermarker><condition username="YH000001" password="123"></condition></usermarker>'
		param1=rebuildcode(arg1xml,'GBK').rebuild()
		filename=sys.path[0]+r'\testxml\syyhcx.xml'
		param2=rebuildcode(filename,'GBK').rebuild()

		# param2='PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjx6aHh4TGlzdD48emh4eCBCREhNPSJNakF4T1RBME1ETTJNVEF4TURBd01EQXdNREU9IiBDQ1hIPSJNUT09IiBLSFpIPSJOakV4TWpNME5UWTNPRGt4TWpNME5UWTMiIFlFPSJNVEF3TURBd0xqQXciIEZLU0o9Ik1qQXhPUzh3TkM4d05DQXdPVG94TVRveU5BPT0iIENDTEI9InZlaTh4NytvIiBaSFpUPSIxZjJ6b3c9PSIgS0hXRD0iMXRDNStyMm95ZWpTK05EUXZhM0wxY3FodDliUTBMbmoxdDNDdDlhbjBORFRxdEsxc3I4PSIgQlo9Ik1UVTIiIFRYRFo9InhNKytxY3JRdWNUQ3BjZjRLaW9xIiBZWkJNPSJNakV3TURJNSIgTFhESD0iTURJMUxUZzBPRFkxT0RrPSIgQkVJWj0ic2JqWG90REZ6Nkl4TVRFPSIgU0ZUWj0iMWVMS3gxUmEiPjxkanh4TGlzdD48ZGp4eCBDU1hIPSJNUT09IiBTRkJESj0iTVE9PSIgREpKWlJRPSJNakF4TVM4d09TOHdNeUF3T1RveE1Ub3lOQT09IiBESkpHPSJ4TSsrcWNyUTF0Qzh0c2pMdy9HM3FOUzYiIERKV0g9Ild6SXdNVEZkeFA0d01ESzZ4UT09IiBESkpFPSJNVEF3TURBdU1EQT0iPjwvZGp4eD48ZGp4eCBDU1hIPSJNZz09IiBTRkJESj0iTUE9PSIgREpKWlJRPSJNakF4TVM4d09TOHdNeUF3T1RveE1Ub3lOQT09IiBESkpHPSJ4TSsrcWNyUTF0Qzh0c2pMdy9HM3FOUzYiIERKV0g9Ild6SXdNVEZkeFA0d01ESzZ4UT09IiBESkpFPSJNVEF3TURBdU1EQT0iPjwvZGp4eD48ZGp4eCBDU1hIPSJNdz09IiBTRkJESj0iTUE9PSIgREpKWlJRPSIiIERKSkc9IiIgREpXSD0iIiBESkpFPSIiPjwvZGp4eD48L2RqeHhMaXN0Pjx3bHh4TGlzdD48d2x4eCBXTFhIPSJNUT09IiBaSkxYPSIxNnJJNnc9PSIgWkNLWkg9Ik5qRXhNak0wTlRZM09Ea3hNak0wTlRZMyIgWkNLWlhNPSIxY1hJL1E9PSIgQlo9Ik1UVTIiIEpFPSJNVEF3TURBd0xqQXciIEpZU0o9Ik1qQXhPUzh3TXk4d015QXdPVG94TVRveU5BPT0iPjwvd2x4eD48d2x4eCBXTFhIPSJNZz09IiBaSkxYPSIxNnF6OWc9PSIgWkNLWkg9Ik5qSXlNVEl4TWpJeU1qSXlNakl5TWpJeSIgWkNLWlhNPSJ3TzdMeEE9PSIgQlo9Ik1UVTIiIEpFPSJNakF3TURBd0xqQXciIEpZU0o9Ik1qQXhPUzh3TkM4d015QXdPVG96TXpveU5BPT0iPjwvd2x4eD48L3dseHhMaXN0PjxnbHh4TGlzdD48Z2x4eCBHTFhIPSJNUT09IiBHTFpITEI9IjBNWFR3NytvIiBHTFpISE09Ik5qRXhNak0wTlRZM09Ea3hNVEV5TWpJeSIgR0xaSE1DPSJ1ZGpCcXRYTHU2ZTUzTUR0dGFYT3U4UDdzOFk9IiBaS0haSD0iTmpFeE1qTTBOVFkzT0RreE1qTTBOVFkzIiBCWj0iTVRVMiIgWUU9Ik1USXdNREF3TGpVdyI+PC9nbHh4PjxnbHh4IEdMWEg9Ik1nPT0iIEdMWkhMQj0idEtMUTdyK28iIEdMWkhITT0iTmpFeE1qTTBOVFkzT0Rrek16TTBORFEwIiBHTFpITUM9InVkakJxdFhMdTZlNTNNRHR0YVhPdThQN3M4WT0iIFpLSFpIPSJOakV4TWpNME5UWTNPRGt4TWpNME5UWTMiIEJaPSJNVFUyIiBZRT0iTlRBd01DNHdNQT09Ij48L2dseHg+PC9nbHh4TGlzdD48anJ4eExpc3Q+PGpyeHggWkNYSD0iTVE9PSIgWkNNQz0idmZESTJ0ZktzdnJEKzdQR01RPT0iIFpDTFg9InZmREkydGZLc3ZyQTRORE5NUT09IiBaQ0dMUj0iMThxeStybmN3TzNJeXpFPSIgWkNLRkpZPSJ5c2M9IiBaQ0pZWFo9IjE4cXkrcjI3MHRmUDN0YkdNUT09IiBYWlhDUlE9Ik1qQXhPUzh3TVM4eE1nPT0iIEpMRFc9InVjaz0iIEJaPSJNVFUyIiBaQ0RXSkc9Ik16TXpNek11TURBPSIgU0U9Ik1UQXdMakF3IiBLWVNFPSJNVEF3TGpBdyIgQkVJWj0ic2JqWG90REZ6Nkk9IiBDUFhTWkw9InN2ckd0OC82eXR2VzFzRGciIERRSD0idGRqSCtMckYiIEpSQ1BCSD0idmZESTJyTDZ4cmV4NExyRiIgTENaSD0id08yeXh0WEx1c1U9IiBaSkhLWkg9IjE4cTk4THZZdis3Vnk3dW4iIFpZUVI9IjFzclJ1c2lveU1zPSIgR1I9InpkQzUzTWpMIiBTWVI9Inl0elM1c2pMIiBDTFI9Ik1qQXhPQzh3TVM4eU1nPT0iIFNIUj0iTWpBeE9TOHdNUzh5TXc9PSIgVEdaSD0iemRDNTNOWEx1c1U9IiBaQ1pKRT0iTXpVd01ERXhNQzR3TUE9PSIgS1laQ1pKRT0iTWpFd01EQXVNREE9Ij48L2pyeHg+PGpyeHggWkNYSD0iTWc9PSIgWkNNQz0idmZESTJ0ZktzdnJEKzdQR01nPT0iIFpDTFg9InZmREkydGZLc3ZyQTRORE5NZz09IiBaQ0dMUj0iMThxeStybmN3TzNJeXpJPSIgWkNLRkpZPSJ0L0U9IiBaQ0pZWFo9IjE4cXkrcjI3MHRmUDN0YkdNZz09IiBYWlhDUlE9Ik1qQXhPUzh3TWk4eU1RPT0iIEpMRFc9InVjaz0iIEJaPSJNVFUyIiBaQ0RXSkc9Ik5EUTBORFF1TURBPSIgU0U9Ik1UQXdMakF3IiBLWVNFPSJNVEF3TGpBdyIgQkVJWj0ic2JqWG90REZ6Nkk9IiBDUFhTWkw9InN2ckd0OC82eXR2VzFzRGciIERRSD0idGRqSCtMckYiIEpSQ1BCSD0idmZESTJyTDZ4cmV4NExyRiIgTENaSD0id08yeXh0WEx1c1U9IiBaSkhLWkg9IjE4cTk4THZZdis3Vnk3dW4iIFpZUVI9IjFzclJ1c2lveU1zPSIgR1I9InpkQzUzTWpMIiBTWVI9Inl0elM1c2pMIiBDTFI9Ik1qQXhPQzh3TVM4eU1nPT0iIFNIUj0iTWpBeE9TOHdNUzh5TXc9PSIgVEdaSD0iemRDNTNOWEx1c1U9IiBaQ1pKRT0iTXpVd01ERXhNQzR3TUE9PSIgS1laQ1pKRT0iTWpFd01EQXVNREE9Ij48L2pyeHg+PC9qcnh4TGlzdD48L3poeHg+PC96aHh4TGlzdD4NCg=='
		# param2='PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjx6aHh4TGlzdD48emh4eCBCREhNPSJNakF4T1RBME1EUTJNVEF4TURBd01EQXdNREk9IiBDQ1hIPSJNUT09IiBLSFpIPSJOakV4TWpNME5UWTNPRGt4TWpNME5UWTMiIFlFPSJNVEF3TURBd0xqQXciIEZLU0o9Ik1qQXhPUzh3TkM4d05DQXdPVG94TVRveU5BPT0iIENDTEI9InZlaTh4NytvIiBaSFpUPSIxZjJ6b3c9PSIgS0hXRD0iMXRDNStyMm95ZWpTK05EUXZhM0wxY3FodDliUTBMbmoxdDNDdDlhbjBORFRxdEsxc3I4PSIgQlo9Ik1UVTIiIFRYRFo9InhNKytxY3JRdWNUQ3BjZjRLaW9xIiBZWkJNPSJNakV3TURJNSIgTFhESD0iTURJMUxUZzBPRFkxT0RrPSIgQkVJWj0ic2JqWG90REZ6Nkl4TVRFPSIgU0ZUWj0iMWVMS3gxUmEiPjxkanh4TGlzdD48ZGp4eCBDU1hIPSJNUT09IiBTRkJESj0iTVE9PSIgREpKWlJRPSJNakF4TVM4d09TOHdNeUF3T1RveE1Ub3lOQT09IiBESkpHPSJ4TSsrcWNyUTF0Qzh0c2pMdy9HM3FOUzYiIERKV0g9Ild6SXdNVEZkeFA0d01ESzZ4UT09IiBESkpFPSJNVEF3TURBdU1EQT0iPjwvZGp4eD48ZGp4eCBDU1hIPSJNZz09IiBTRkJESj0iTUE9PSIgREpKWlJRPSJNakF4TVM4d09TOHdNeUF3T1RveE1Ub3lOQT09IiBESkpHPSJ4TSsrcWNyUTF0Qzh0c2pMdy9HM3FOUzYiIERKV0g9Ild6SXdNVEZkeFA0d01ESzZ4UT09IiBESkpFPSJNVEF3TURBdU1EQT0iPjwvZGp4eD48ZGp4eCBDU1hIPSJNdz09IiBTRkJESj0iTUE9PSIgREpKWlJRPSIiIERKSkc9IiIgREpXSD0iIiBESkpFPSIiPjwvZGp4eD48L2RqeHhMaXN0Pjx3bHh4TGlzdD48d2x4eCBXTFhIPSJNUT09IiBaSkxYPSIxNnJJNnc9PSIgWkNLWkg9Ik5qRXhNak0wTlRZM09Ea3hNak0wTlRZMyIgWkNLWlhNPSIxY1hJL1E9PSIgQlo9Ik1UVTIiIEpFPSJNVEF3TURBd0xqQXciIEpZU0o9Ik1qQXhPUzh3TXk4d015QXdPVG94TVRveU5BPT0iPjwvd2x4eD48d2x4eCBXTFhIPSJNZz09IiBaSkxYPSIxNnF6OWc9PSIgWkNLWkg9Ik5qSXlNVEl4TWpJeU1qSXlNakl5TWpJeSIgWkNLWlhNPSJ3TzdMeEE9PSIgQlo9Ik1UVTIiIEpFPSJNakF3TURBd0xqQXciIEpZU0o9Ik1qQXhPUzh3TkM4d015QXdPVG96TXpveU5BPT0iPjwvd2x4eD48L3dseHhMaXN0PjxnbHh4TGlzdD48Z2x4eCBHTFhIPSJNUT09IiBHTFpITEI9IjBNWFR3NytvIiBHTFpISE09Ik5qRXhNak0wTlRZM09Ea3hNVEV5TWpJeSIgR0xaSE1DPSJ1ZGpCcXRYTHU2ZTUzTUR0dGFYT3U4UDdzOFk9Ij48L2dseHg+PGdseHggR0xYSD0iTWc9PSIgR0xaSExCPSJ0S0xRN3IrbyIgR0xaSEhNPSJOakV4TWpNME5UWTNPRGt6TXpNME5EUTAiIEdMWkhNQz0idWRqQnF0WEx1NmU1M01EdHRhWE91OFA3czhZPSI+PC9nbHh4PjwvZ2x4eExpc3Q+PGpyeHhMaXN0Pjxqcnh4IFpDWEg9Ik1RPT0iIFpDTUM9InZmREkydGZLc3ZyRCs3UEdNUT09IiBaQ0xYPSJ2ZkRJMnRmS3N2ckE0TkROTVE9PSIgWkNHTFI9IjE4cXkrcm5jd08zSXl6RT0iIFpDS0ZKWT0ieXNjPSIgWkNKWVhaPSIxOHF5K3IyNzB0ZlAzdGJHTVE9PSIgWFpYQ1JRPSJNakF4T1M4d01TOHhNZz09IiBKTERXPSJ1Y2s9IiBCWj0iTVRVMiIgWkNEV0pHPSJNek16TXpNdU1EQT0iIFNFPSJNVEF3TGpBdyIgS1lTRT0iTVRBd0xqQXciIEJFSVo9InNialhvdERGejZJPSIgQ1BYU1pMPSJzdnJHdDgvNnl0dlcxc0RnIiBEUUg9InRkakgrTHJGIiBKUkNQQkg9InZmREkyckw2eHJleDRMckYiIExDWkg9IndPMnl4dFhMdXNVPSIgWkpIS1pIPSIxOHE5OEx2WXYrN1Z5N3VuIiBaWVFSPSIxc3JSdXNpb3lNcz0iIEdSPSJ6ZEM1M01qTCIgU1lSPSJ5dHpTNXNqTCIgQ0xSPSJNakF4T0M4d01TOHlNZz09IiBTSFI9Ik1qQXhPUzh3TVM4eU13PT0iIFRHWkg9InpkQzUzTlhMdXNVPSIgWkNaSkU9Ik16VXdNREV4TUM0d01BPT0iIEtZWkNaSkU9Ik1qRXdNREF1TURBPSI+PC9qcnh4Pjxqcnh4IFpDWEg9Ik1nPT0iIFpDTUM9InZmREkydGZLc3ZyRCs3UEdNZz09IiBaQ0xYPSJ2ZkRJMnRmS3N2ckE0TkROTWc9PSIgWkNHTFI9IjE4cXkrcm5jd08zSXl6ST0iIFpDS0ZKWT0idC9FPSIgWkNKWVhaPSIxOHF5K3IyNzB0ZlAzdGJHTWc9PSIgWFpYQ1JRPSJNakF4T1M4d01pOHlNUT09IiBKTERXPSJ1Y2s9IiBCWj0iTVRVMiIgWkNEV0pHPSJORFEwTkRRdU1EQT0iIFNFPSJNVEF3TGpBdyIgS1lTRT0iTVRBd0xqQXciIEJFSVo9InNialhvdERGejZJPSIgQ1BYU1pMPSJzdnJHdDgvNnl0dlcxc0RnIiBEUUg9InRkakgrTHJGIiBKUkNQQkg9InZmREkyckw2eHJleDRMckYiIExDWkg9IndPMnl4dFhMdXNVPSIgWkpIS1pIPSIxOHE5OEx2WXYrN1Z5N3VuIiBaWVFSPSIxc3JSdXNpb3lNcz0iIEdSPSJ6ZEM1M01qTCIgU1lSPSJ5dHpTNXNqTCIgQ0xSPSJNakF4T0M4d01TOHlNZz09IiBTSFI9Ik1qQXhPUzh3TVM4eU13PT0iIFRHWkg9InpkQzUzTlhMdXNVPSIgWkNaSkU9Ik16VXdNREV4TUM0d01BPT0iIEtZWkNaSkU9Ik1qRXdNREF1TURBPSI+PC9qcnh4PjwvanJ4eExpc3Q+PC96aHh4Pjwvemh4eExpc3Q+DQo='
		result=self.client.service.shfeedXzcxInfo(param1,param2)
		print(result)

	def shfeedXzkzInfo(self):
		arg1xml=r'<?xml version="1.0" encoding="UTF-8"?><usermarker><condition username="YH000001" password="123"></condition></usermarker>'
		param1=rebuildcode(arg1xml,'GBK').rebuild()
		filename=sys.path[0]+r'\testxml\syyhkz.xml'
		param2=rebuildcode(filename,'GBK').rebuild()

		result=self.client.service.shfeedXzkzInfo(param1,param2)
		print(result)
# url='http://192.168.1.115:8081/ckwWebService'
url='http://192.168.1.103:8083/ckwWebService/SyyhConvertData?wsdl'

client=Client(url)
print(client)
cxfeed=ckwwebservice(client)
# cxfeed.shfeedXzcxInfo()
cxfeed.shfeedXzkzInfo()

